<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ë‚˜ë¦„ shopì„</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="./main.css" />
  </head>
  <body>
    <div class="black-bg" id="modalLogin">
      <div class="white-bg">
        <h4>ë¡œê·¸ì¸í•˜ì„¸ìš”</h4>

        <form action="success.html" id="form">
          <div class="my-3">
            <input type="text" class="form-control" id="inputId" />
          </div>
          <div class="my-3">
            <input type="password" class="form-control" id="inputPw" />
          </div>
          <button type="submit" class="btn btn-primary" id="submit">
            ì „ì†¡
          </button>
          <button type="button" class="btn btn-danger" id="close">ë‹«ê¸°</button>
        </form>
      </div>
    </div>

    <nav class="navbar navbar-light bg-light">
      <div class="container-fluid">
        <span class="navbar-brand">Apple Shop</span>
        <button type="button" class="badge bg-dark" id="buttonDark">
          Dark ğŸ”„
        </button>
        <button class="navbar-toggler" type="button">
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
      <div class="process">
        <span class="process-bar"></span>
      </div>
    </nav>

    <ul class="list-group">
      <li class="list-group-item">An item</li>
      <li class="list-group-item">A second item</li>
      <li class="list-group-item">A third item</li>
      <li class="list-group-item">A fourth item</li>
      <li class="list-group-item">And a fifth one</li>
    </ul>

    <div class="main-bg">
      <h4>Shirts on Sale</h4>
      <button id="login" class="btn btn-danger">ë¡œê·¸ì¸</button>

      <div class="alert alert-danger">
        <span>5</span>ì´ˆ ì´ë‚´ êµ¬ë§¤ì‹œ ì‚¬ì€í’ˆ ì¦ì •!
      </div>

      <div class="yak">
        <p>
          ì´ìš©ì•½ê´€<br />
          Lorem ipsum dolor sit, amet consectetur adipisicing elit. Est, fugiat.
          Praesentium dolorem ipsa neque cumque facilis nobis soluta facere quo
          placeat ea, quidem dignissimos suscipit laudantium excepturi numquam
          consequatur nihil. Quasi repudiandae natus eos architecto. Quibusdam
          aut tempora enim ratione porro dolorum perspiciatis iure minus quidem
          odio, laboriosam possimus itaque adipisci odit quisquam nobis dolores
          cumque modi officia impedit ipsum! Ipsum tempora totam, repudiandae
          iste nobis voluptatum tempore vel temporibus harum excepturi
          laboriosam! Error sapiente nostrum delectus molestiae voluptatem
          officiis corporis perspiciatis vero est suscipit, cum amet dolorem quo
          aliquid. Lorem ipsum dolor sit, amet consectetur adipisicing elit.
          Est, fugiat. Praesentium dolorem ipsa neque cumque facilis nobis
          soluta facere quo placeat ea, quidem dignissimos suscipit laudantium
          excepturi numquam consequatur nihil. Quasi repudiandae natus eos
          architecto. Quibusdam aut tempora enim ratione porro dolorum
          perspiciatis iure minus quidem odio, laboriosam possimus itaque
          adipisci odit quisquam nobis dolores cumque modi officia impedit
          ipsum! Ipsum tempora totam, repudiandae iste nobis voluptatum tempore
          vel temporibus harum excepturi laboriosam! Error sapiente nostrum
          delectus molestiae voluptatem officiis corporis perspiciatis vero est
          suscipit, cum amet dolorem quo aliquid. Lorem ipsum dolor sit, amet
          consectetur adipisicing elit. Est, fugiat. Praesentium dolorem ipsa
          neque cumque facilis nobis soluta facere quo placeat ea, quidem
          dignissimos suscipit laudantium excepturi numquam consequatur nihil.
          Quasi repudiandae natus eos architecto. Quibusdam aut tempora enim
          ratione porro dolorum perspiciatis iure minus quidem odio, laboriosam
          possimus itaque adipisci odit quisquam nobis dolores cumque modi
          officia impedit ipsum! Ipsum tempora totam, repudiandae iste nobis
          voluptatum tempore vel temporibus harum excepturi laboriosam! Error
          sapiente nostrum delectus molestiae voluptatem officiis corporis
          perspiciatis vero est suscipit, cum amet dolorem quo aliquid.
        </p>
      </div>
    </div>

    <script>
      // page processbar
      const pageHeight = document.querySelector("html").scrollHeight;
      const processBar = document.querySelector(".process-bar");
      window.addEventListener("scroll", function () {
        const processValue =
          parseFloat(window.scrollY / (pageHeight - window.innerHeight)) * 100;
        processBar.style.width = `${processValue}%`;
      });

      // ì•½ê´€ ë‹¤ ì½ìœ¼ë©´, alertë°œì‚¬
      const yakBox = document.querySelector(".yak");
      const yakBoxHeight = yakBox.offsetHeight;
      const yakBoxScrollHeight = yakBox.scrollHeight;
      yakBox.addEventListener("scroll", function () {
        if (yakBox.scrollTop + yakBoxHeight >= yakBoxScrollHeight) {
          alert("ì•½ê´€ í™•ì¸ ì™„ë£Œ!");
        }
      });

      // navë¡œê³  ì• ë‹ˆë©”ì´ì…˜
      window.addEventListener("scroll", function () {
        if (window.scrollY > 100) {
          document.querySelector(".navbar").classList.add("scrolled");
        } else {
          document.querySelector(".navbar").classList.remove("scrolled");
        }
      });

      // setTimeout / setInterval / clearInterval
      // xì´ˆ í›„ì— í•¨ìˆ˜ ì‹¤í–‰
      // setTimeout(function(){ì‹¤í–‰í•  ì½”ë“œ}, msí›„ ì‹¤í–‰í•¨)
      setTimeout(function () {
        document.querySelector(".alert").style.display = "none";
      }, 5000);

      let num = 5;
      //  xì´ˆë§ˆë‹¤ ì½”ë“œ ì‹¤í–‰
      var timmer = setInterval(function () {
        num--;
        if (num >= 0) {
          document.querySelector(".alert span").innerText = num;
        } else {
          clearTimeout(timmer);
        }
      }, 1000);

      function darkMode() {
        document
          .querySelector(".navbar")
          .classList.remove("navbar-light", "bg-light");
        document
          .querySelector(".navbar")
          .classList.add("navbar-dark", "bg-dark");

        document.querySelector("#buttonDark").innerText = "Light ğŸ”„";
        document.querySelector("#buttonDark").classList.remove("bg-dark");
        document
          .querySelector("#buttonDark")
          .classList.add("bg-light", "text-secondary");
      }

      function lightMode() {
        document
          .querySelector(".navbar")
          .classList.remove("navbar-dark", "bg-dark");
        document
          .querySelector(".navbar")
          .classList.add("navbar-light", "bg-light");
        document.querySelector("#buttonDark").innerText = "Dark ğŸ”„";
        document
          .querySelector("#buttonDark")
          .classList.remove("bg-light", "text-secondary");
        document.querySelector("#buttonDark").classList.add("bg-dark");
      }

      let buttonClickCnt = 0;
      // ë‹¤í¬ëª¨ë“œ
      document
        .querySelector("#buttonDark")
        .addEventListener("click", function () {
          if (buttonClickCnt % 2 == 0) {
            darkMode();
          } else {
            lightMode();
          }
          buttonClickCnt++;
        });

      // #ìœ íš¨ì„± ê²€ì‚¬

      // 1. ë¬¸ì ê²€ì‚¬í•˜ëŠ” ê°€ì¥ ì‰¬ìš´ ë°©ë²•
      // 'ë¬¸ì'.includes('ì°¾ì„ë‹¨ì–´')

      // 2. ì •ê·œí‘œí˜„ì‹(Regular Expression) - í•œê¸€ì´ ë“¤ì–´ê°€ëƒ, ì˜ì–´ê°€ ë“¤ì–´ê°€ëƒ, Aë¡œ ëë‚˜ëƒ.. ë“±ë“± ê²€ì‚¬ ê°€ëŠ¥
      // ì •ê·œì‹ : ë¬¸ìë¥¼ ê²€ì‚¬í•  ìˆ˜ ìˆëŠ” ì‹
      // /ê²€ì‚¬ë¬¸/.test('í…ŒìŠ¤íŠ¸í• ë¬¸ì')
      // /abc/.test('abcde') -> 'abcde'ì— abcê°€ ë“¤ì–´ê°€ëƒ?

      const form = document.querySelector("#form");
      form.addEventListener("submit", function (e) {
        const inputId = document.querySelector("#inputId");
        const inputPw = document.querySelector("#inputPw");
        if (inputId.value == "") {
          e.preventDefault();
          alert("idë¥¼ ì…ë ¥í•˜ì…ˆ");
        } else if (/\S+@\S+\.\S+/.test(inputId.value) == false) {
          e.preventDefault();
          alert("ì´ë©”ì¼ í˜•ì‹ìœ¼ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”");
        } else if (inputPw.value == "") {
          e.preventDefault();
          alert("ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì…ˆ");
        } else if (inputPw.value.length < 6) {
          e.preventDefault();
          alert("ë¹„ë°€ë²ˆí˜¸ëŠ” 6ì ì´ìƒìœ¼ë¡œ ì„¤ì •í•´ì£¼ì„¸ìš”");
        } else if (/[A-Z]/.test(inputPw.value) == false) {
          e.preventDefault();
          alert("ì ì–´ë„ í•˜ë‚˜ì˜ ëŒ€ë¬¸ìëŠ” ì…ë ¥í•´ì£¼ì„¸ìš”");
        }
      });

      document
        .querySelector(".navbar-toggler")
        .addEventListener("click", function () {
          document.querySelector(".list-group").classList.toggle("show");
        });

      document.querySelector("#login").addEventListener("click", function () {
        document.querySelector("#modalLogin").classList.add("show");
      });

      document.querySelector("#close").addEventListener("click", function () {
        document.querySelector("#modalLogin").classList.remove("show");
      });
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
